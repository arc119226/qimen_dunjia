var R=Object.freeze({\u51AC\u81F3:{yang:!0,ju:[1,7,4]},\u5C0F\u5BD2:{yang:!0,ju:[2,8,5]},\u5927\u5BD2:{yang:!0,ju:[3,9,6]},\u7ACB\u6625:{yang:!0,ju:[8,5,2]},\u96E8\u6C34:{yang:!0,ju:[9,6,3]},\u9A5A\u87C4:{yang:!0,ju:[1,7,4]},\u6625\u5206:{yang:!0,ju:[3,9,6]},\u6E05\u660E:{yang:!0,ju:[4,1,7]},\u7A40\u96E8:{yang:!0,ju:[5,2,8]},\u7ACB\u590F:{yang:!0,ju:[4,1,7]},\u5C0F\u6EFF:{yang:!0,ju:[5,2,8]},\u8292\u7A2E:{yang:!0,ju:[6,3,9]},\u590F\u81F3:{yang:!1,ju:[9,3,6]},\u5C0F\u6691:{yang:!1,ju:[8,2,5]},\u5927\u6691:{yang:!1,ju:[7,1,4]},\u7ACB\u79CB:{yang:!1,ju:[2,5,8]},\u8655\u6691:{yang:!1,ju:[1,4,7]},\u767D\u9732:{yang:!1,ju:[9,3,6]},\u79CB\u5206:{yang:!1,ju:[7,1,4]},\u5BD2\u9732:{yang:!1,ju:[6,9,3]},\u971C\u964D:{yang:!1,ju:[5,8,2]},\u7ACB\u51AC:{yang:!1,ju:[6,9,3]},\u5C0F\u96EA:{yang:!1,ju:[5,8,2]},\u5927\u96EA:{yang:!1,ju:[4,7,1]}}),Y=Object.freeze(["\u4E0A\u5143","\u4E2D\u5143","\u4E0B\u5143"]),N=Object.freeze({XUN:0,LI:1,KUN:2,ZHEN:3,ZHONG:4,DUI:5,GEN:6,KAN:7,QIAN:8}),p=N.KUN,O=Object.freeze({CLOCKWISE:[0,1,2,5,8,7,6,3],COUNTER_CLOCKWISE:[0,3,6,7,8,5,2,1],DOOR_YANG:[7,2,3,0,4,8,5,6,1],DOOR_YIN:[7,1,6,5,8,4,0,3,2]}),m=Object.freeze(["\u2198","\u2193","\u2199","\u2192","","\u2190","\u2197","\u2191","\u2196"]),b=Object.freeze(["\u514C","\u4E7E","\u5DFD","\u96E2","\u4E2D","\u574E","\u9707","\u5764","\u826E"]),T=Object.freeze(["\u5DFD","\u96E2","\u5764","\u9707","\u4E2D","\u514C","\u826E","\u574E","\u4E7E"]),w=Object.freeze({1:"\u4E00\u767D\u8CAA\u72FC",2:"\u4E8C\u9ED1\u5DE8\u9580",3:"\u4E09\u78A7\u797F\u5B58",4:"\u56DB\u7DA0\u6587\u660C",5:"\u4E94\u9EC3\u5EC9\u8C9E",6:"\u516D\u767D\u6B66\u66F2",7:"\u4E03\u8D64\u7834\u8ECD",8:"\u516B\u767D\u5DE6\u8F14",9:"\u4E5D\u7D2B\u53F3\u5F3C"}),z=Object.freeze({1:[2,6,4,3,1,8,7,5,9],2:[3,7,5,4,2,9,8,6,1],3:[4,8,6,5,3,1,9,7,2],4:[5,9,7,6,4,2,1,8,3],5:[6,1,8,7,5,3,2,9,4],6:[7,2,9,8,6,4,3,1,5],7:[8,3,1,9,7,5,4,2,6],8:[9,4,2,1,8,6,5,3,7],9:[1,5,3,2,9,7,6,4,8]}),_=Object.freeze(["\u5929\u8F14","\u5929\u82F1","\u5929\u82AE","\u5929\u6C96","\u5929\u79BD","\u5929\u67F1","\u5929\u4EFB","\u5929\u84EC","\u5929\u5FC3"]),Ct=N.ZHONG,H=Object.freeze(["\u675C\u9580","\u666F\u9580","\u6B7B\u9580","\u50B7\u9580","","\u9A5A\u9580","\u751F\u9580","\u4F11\u9580","\u958B\u9580"]),y=Object.freeze(["\u4F11\u9580","\u751F\u9580","\u50B7\u9580","\u675C\u9580","\u666F\u9580","\u6B7B\u9580","\u9A5A\u9580","\u958B\u9580"]),Z=Object.freeze(["\u503C\u7B26","\u6ED5\u86C7","\u592A\u9670","\u516D\u5408","\u52FE\u9673","\u6731\u96C0","\u4E5D\u5730","\u4E5D\u5929"]),F=Object.freeze(["\u503C\u7B26","\u6ED5\u86C7","\u592A\u9670","\u516D\u5408","\u767D\u864E","\u7384\u6B66","\u4E5D\u5730","\u4E5D\u5929"]),L=Object.freeze(["\u7532\u5B50","\u7532\u620C","\u7532\u7533","\u7532\u5348","\u7532\u8FB0","\u7532\u5BC5"]),j=Object.freeze({\u7532\u5B50:["\u7532\u5B50","\u4E59\u4E11","\u4E19\u5BC5","\u4E01\u536F","\u620A\u8FB0","\u5DF1\u5DF3","\u5E9A\u5348","\u8F9B\u672A","\u58EC\u7533","\u7678\u9149"],\u7532\u620C:["\u7532\u620C","\u4E59\u4EA5","\u4E19\u5B50","\u4E01\u4E11","\u620A\u5BC5","\u5DF1\u536F","\u5E9A\u8FB0","\u8F9B\u5DF3","\u58EC\u5348","\u7678\u672A"],\u7532\u7533:["\u7532\u7533","\u4E59\u9149","\u4E19\u620C","\u4E01\u4EA5","\u620A\u5B50","\u5DF1\u4E11","\u5E9A\u5BC5","\u8F9B\u536F","\u58EC\u8FB0","\u7678\u5DF3"],\u7532\u5348:["\u7532\u5348","\u4E59\u672A","\u4E19\u7533","\u4E01\u9149","\u620A\u620C","\u5DF1\u4EA5","\u5E9A\u5B50","\u8F9B\u4E11","\u58EC\u5BC5","\u7678\u536F"],\u7532\u8FB0:["\u7532\u8FB0","\u4E59\u5DF3","\u4E19\u5348","\u4E01\u672A","\u620A\u7533","\u5DF1\u9149","\u5E9A\u620C","\u8F9B\u4EA5","\u58EC\u5B50","\u7678\u4E11"],\u7532\u5BC5:["\u7532\u5BC5","\u4E59\u536F","\u4E19\u8FB0","\u4E01\u5DF3","\u620A\u5348","\u5DF1\u672A","\u5E9A\u7533","\u8F9B\u9149","\u58EC\u620C","\u7678\u4EA5"]}),Q=Object.freeze({\u7532\u5B50:"\u620A",\u7532\u620C:"\u5DF1",\u7532\u7533:"\u5E9A",\u7532\u5348:"\u8F9B",\u7532\u8FB0:"\u58EC",\u7532\u5BC5:"\u7678"}),W=Object.freeze({\u7532\u5B50:["\u897F\u5317"],\u7532\u620C:["\u897F\u5357\u897F","\u897F"],\u7532\u7533:["\u5357","\u5357\u5357\u897F"],\u7532\u5348:["\u6771\u5357"],\u7532\u8FB0:["\u6771\u5317\u6771","\u6771"],\u7532\u5BC5:["\u5317","\u5317\u5317\u6771"]}),K=Object.freeze({1:["\u8F9B","\u4E59","\u5DF1","\u5E9A","\u58EC","\u4E01","\u4E19","\u620A","\u7678"],2:["\u5E9A","\u4E19","\u620A","\u5DF1","\u8F9B","\u7678","\u4E01","\u4E59","\u58EC"],3:["\u5DF1","\u4E01","\u4E59","\u620A","\u5E9A","\u58EC","\u7678","\u4E19","\u8F9B"],4:["\u620A","\u7678","\u4E19","\u4E59","\u5DF1","\u8F9B","\u58EC","\u4E01","\u5E9A"],5:["\u4E59","\u58EC","\u4E01","\u4E19","\u620A","\u5E9A","\u8F9B","\u7678","\u5DF1"],6:["\u4E19","\u8F9B","\u7678","\u4E01","\u4E59","\u5DF1","\u5E9A","\u58EC","\u620A"],7:["\u4E01","\u5E9A","\u58EC","\u7678","\u4E19","\u620A","\u5DF1","\u8F9B","\u4E59"],8:["\u7678","\u5DF1","\u8F9B","\u58EC","\u4E01","\u4E59","\u620A","\u5E9A","\u4E19"],9:["\u58EC","\u620A","\u5E9A","\u8F9B","\u7678","\u4E19","\u4E59","\u5DF1","\u4E01"]}),J=Object.freeze({1:["\u4E01","\u5DF1","\u4E59","\u4E19","\u7678","\u8F9B","\u5E9A","\u620A","\u58EC"],2:["\u4E19","\u5E9A","\u620A","\u4E59","\u4E01","\u58EC","\u8F9B","\u5DF1","\u7678"],3:["\u4E59","\u8F9B","\u5DF1","\u620A","\u4E19","\u7678","\u58EC","\u5E9A","\u4E01"],4:["\u620A","\u58EC","\u5E9A","\u5DF1","\u4E59","\u4E01","\u7678","\u8F9B","\u4E19"],5:["\u5DF1","\u7678","\u8F9B","\u5E9A","\u620A","\u4E19","\u4E01","\u58EC","\u4E59"],6:["\u5E9A","\u4E01","\u58EC","\u8F9B","\u5DF1","\u4E59","\u4E19","\u7678","\u620A"],7:["\u8F9B","\u4E19","\u7678","\u58EC","\u5E9A","\u620A","\u4E59","\u4E01","\u5DF1"],8:["\u58EC","\u4E59","\u4E01","\u7678","\u8F9B","\u5DF1","\u620A","\u4E19","\u5E9A"],9:["\u7678","\u620A","\u4E19","\u4E01","\u58EC","\u5E9A","\u5DF1","\u4E59","\u8F9B"]});function X(t,e){if(!Array.isArray(t)||t.length===0)return[];let n=e%t.length;return[...t.slice(n),...t.slice(0,n)]}function x(t,e){let n=t.indexOf(e);if(n===-1){let r=t.indexOf(p);return X(t,r)}return X(t,n)}function U(t,e,n,r){let i=n===N.ZHONG?p:n,a=r===N.ZHONG?p:r,c=x(e,i),u=x(e,a),s=new Array(9).fill("");for(let g=0;g<c.length;g++){let l=c[g],S=u[g];s[S]=t[l]}return s[N.ZHONG]=t[N.ZHONG],s}function E(t){return t===N.ZHONG?p:t}function Rt(t,e){let n=t.indexOf(e);return E(n)}function P(t){for(let e of L)if(j[e].includes(t))return e;return null}function B(t){return Q[t]}function M(t,e){let n=j[t];return n?n.indexOf(e):0}function d(t){let e=P(t);return e?W[e]:void 0}function q(t,e){return t==="\u7532"?e:t}function A(t){return t.substring(0,1)}function Yt(t){return t.substring(1,2)}function v(){return[...b]}function $(){return[...T]}function k(t){let e=z[t];if(!e)throw new Error(`\u7121\u6548\u7684\u4E2D\u5BAE\u661F\u6578\uFF1A${t}\uFF0C\u5FC5\u9808\u70BA 1-9`);return e.map(n=>w[n])}function V(t,e){let r=(t?K:J)[e];if(!r)throw new Error(`\u7121\u6548\u7684\u5C40\u6578\uFF1A${e}\uFF0C\u5FC5\u9808\u70BA 1-9`);return[...r]}function tt(t,e,n,r){let i=r.indexOf(e),a=r.indexOf(n);return U(r,O.CLOCKWISE,a,i)}function et(){return[...H]}function nt(t,e){let n=e.indexOf(t);return n=E(n),H[n]}function rt(t,e,n,r,i){let a=i.indexOf(r),c=t?O.DOOR_YANG:O.DOOR_YIN,u=n%c.length,g=x(c,a)[u];g=E(g);let l=x(O.CLOCKWISE,g),S=y.indexOf(e),G=[...y.slice(S),...y.slice(0,S)],h=new Array(9).fill("");for(let f=0;f<l.length;f++)h[l[f]]=G[f];return h}function ot(){return[..._]}function it(t,e){let n=e.indexOf(t);return _[n]}function at(t,e){let n=e.indexOf(t);return T[n]}function ct(t,e,n){let r=n.indexOf(e),i=_.indexOf(t);return U(_,O.CLOCKWISE,i,r)}function ut(t){let e=t.indexOf("\u5929\u82AE");return m[e]}function st(t,e,n){let r=n.indexOf(e);r=E(r);let i=t?Z:F,a=t?O.CLOCKWISE:O.COUNTER_CLOCKWISE,c=x(a,r),u=new Array(9).fill("");for(let s=0;s<c.length;s++)u[c[s]]=i[s];return u}function bt(t){return m[t]||""}function gt(t,e){let n=e.indexOf(t);return T[n]}var wt={\u8C37\u96E8:"\u7A40\u96E8",\u60CA\u86F0:"\u9A5A\u87C4",\u5904\u6691:"\u8655\u6691"};function zt(t){if(!t)return t;let e=t;for(let[n,r]of Object.entries(wt))e=e.replace(new RegExp(n,"g"),r);return e}function lt(t,e,n){let i=t.getLunar().getPrevJieQi(),a=zt(i.getName()),c=i.getSolar(),u=t.getJulianDay(),s=c.getJulianDay(),g=u-s,l;g<5?l=0:g<10?l=1:l=2;let S=e[a];if(!S)throw new Error(`\u672A\u77E5\u7684\u7BC0\u6C23\uFF1A${a}`);return{jieQiName:a,yuan:l,yuanName:n[l],isYang:S.yang,yinYang:S.yang?"\u967D":"\u9670",gameNumber:S.ju[l],daysSinceJieQi:Math.floor(g)}}import{Solar as Zt}from"lunar-javascript";function Ft(t){if(!Array.isArray(t)||t.length<6)throw new Error("\u8F38\u5165\u8CC7\u6599\u683C\u5F0F\u932F\u8AA4\uFF1A\u5FC5\u9808\u5305\u542B [\u5E74\u67F1, \u6708\u67F1, \u65E5\u67F1, \u6642\u67F1, \u5C40\u6578, \u9670\u967D]");let[e,n,r,i,a,c]=t;if([e,n,r,i].forEach((u,s)=>{if(typeof u!="string"||u.length!==2){let g=["\u5E74\u67F1","\u6708\u67F1","\u65E5\u67F1","\u6642\u67F1"];throw new Error(`${g[s]}\u683C\u5F0F\u932F\u8AA4\uFF1A\u5FC5\u9808\u70BA\u5169\u500B\u5B57\u7684\u5E72\u652F\uFF08\u5982\u300C\u7532\u5B50\u300D\uFF09`)}}),!Number.isInteger(a)||a<1||a>9)throw new Error("\u5C40\u6578\u5FC5\u9808\u70BA 1-9 \u7684\u6574\u6578");if(c!=="\u9670"&&c!=="\u967D")throw new Error("\u9670\u967D\u5FC5\u9808\u70BA\u300C\u9670\u300D\u6216\u300C\u967D\u300D")}function Lt(t,e,n,r){return{yearGan:A(t),monthGan:A(e),dayGan:A(n),timeGan:A(r)}}function Qt(t,e,n,r){return{yearKongWang:d(t),monthKongWang:d(e),dayKongWang:d(n),timeKongWang:d(r)}}function ft(t,e){Ft(e);let[n,r,i,a,c,u]=e,s=u==="\u967D",{yearGan:g,monthGan:l,dayGan:S,timeGan:G}=Lt(n,r,i,a),h=P(a),f=B(h),D=q(G,f),pt=v(),_t=$(),Et=k(c),I=V(s,c),dt=tt(s,D,f,I),At=et(),C=nt(f,I),St=M(h,a),Nt=rt(s,C,St,f,I),Tt=gt(C,Nt),yt=ot(),Ot=it(f,I),Gt=at(D,I),It=ct(Ot,D,I),Dt=ut(It),mt=st(s,D,I),{yearKongWang:Ht,monthKongWang:jt,dayKongWang:Ut,timeKongWang:Pt}=Qt(n,r,i,a),o=new Map;return o.set("\u5E74\u67F1",n),o.set("\u5E74\u5B64\u865B",Ht),o.set("\u6708\u67F1",r),o.set("\u6708\u5B64\u865B",jt),o.set("\u65E5\u67F1",i),o.set("\u65E5\u5B64\u865B",Ut),o.set("\u6642\u67F1",a),o.set("\u6642\u5B64\u865B",Pt),o.set("\u6642\u5E72",G),o.set("\u9670\u967D",u),o.set("\u5C40\u6578",c),o.set("\u65EC\u9996",h),o.set("\u7B26\u9996",f),o.set("\u503C\u4F7F",C),o.set("\u503C\u7B26",Ot),o.set("\u503C\u7B26\u843D\u5BAE",Gt),o.set("\u503C\u4F7F\u843D\u5BAE",Tt),o.set("\u98DB\u6B65",St),o.set("\u6CB3\u5716",pt),o.set("\u65B9\u4F4D",_t),o.set("\u4E5D\u5BAE",Et),o.set("\u5730\u76E4",I),o.set("\u5730\u9580",At),o.set("\u5929\u76E4",dt),o.set("\u5929\u9580",Nt),o.set("\u539F\u661F",yt),o.set("\u4E5D\u661F",It),o.set("\u5929\u79BD\u5BC4\u5BAE",Dt),o.set("\u516B\u795E",mt),o}function xt(t){let e={};for(let[n,r]of t)e[n]=r;return e}function Wt(t,e=2){return JSON.stringify(xt(t),null,e)}function Kt(t){if(typeof t!="string"||t.length!==10)throw new Error("\u65E5\u671F\u6642\u9593\u683C\u5F0F\u932F\u8AA4\uFF1A\u5FC5\u9808\u70BA yyyyMMddHH \u683C\u5F0F\uFF0810 \u4F4D\u6578\u5B57\uFF09");let e=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10),r=parseInt(t.substring(6,8),10),i=parseInt(t.substring(8,10),10);if(isNaN(e)||e<1||e>9999)throw new Error("\u5E74\u4EFD\u7121\u6548\uFF1A\u5FC5\u9808\u70BA 1-9999");if(isNaN(n)||n<1||n>12)throw new Error("\u6708\u4EFD\u7121\u6548\uFF1A\u5FC5\u9808\u70BA 1-12");if(isNaN(r)||r<1||r>31)throw new Error("\u65E5\u671F\u7121\u6548\uFF1A\u5FC5\u9808\u70BA 1-31");if(isNaN(i)||i<0||i>23)throw new Error("\u5C0F\u6642\u7121\u6548\uFF1A\u5FC5\u9808\u70BA 0-23");return{year:e,month:n,day:r,hour:i}}function Jt(t,e){let n=t.getLunar(),r=n.getYearInGanZhiExact(),i=n.getMonthInGanZhiExact(),a=n.getDayInGanZhiExact(),c=n.getTimeInGanZhi(),u=lt(t,R,Y),s=[r,i,a,c,u.gameNumber,u.yinYang];return{chart:ft(e,s),juResult:u,solar:t,lunar:n}}function ht(t){let{year:e,month:n,day:r,hour:i}=Kt(t),a=Zt.fromYmdHms(e,n,r,i,0,0),{chart:c,juResult:u}=Jt(a,t);return c.set("\u7BC0\u6C23",u.jieQiName),c.set("\u4E09\u5143",u.yuanName),c.set("\u7BC0\u5F8C\u5929\u6578",u.daysSinceJieQi),c}function Xt(){let t=new Date,e=t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0")+t.getHours().toString().padStart(2,"0");return ht(e)}export{K as DIPAN_YANG,J as DIPAN_YIN,m as DIRECTION_ARROWS,H as EIGHT_DOORS_ORIGINAL,y as EIGHT_DOORS_SEQUENCE,Z as EIGHT_GODS_YANG,F as EIGHT_GODS_YIN,w as FLYING_STARS,z as FLYING_STAR_CHARTS,O as FLY_PATH,b as HETU_BAGUA,R as JIEQI_JUSHU,T as LUOSHU_BAGUA,N as PALACE,_ as QIMEN_STARS,j as SIX_XUNS,Ct as TIANQIN_INDEX,L as XUN_HEADS,Q as XUN_TO_HEAD,W as XUN_TO_KONGWANG_DIRECTION,Y as YUAN_NAMES,p as ZHONG_SUBSTITUTE,rt as calculateEightDoors,st as calculateEightGods,M as calculateFlyStep,k as calculateFlyingStars,lt as calculateJuByChaiBu,ct as calculateNineStars,tt as calculateTianPan,Wt as chartToJSON,xt as chartToObject,ft as default,Yt as extractDiZhi,A as extractTianGan,Rt as findIndexWithZhongNormalization,ht as generateChartByDatetime,Xt as generateChartNow,x as generatePutSequence,ft as generateQimenChart,V as getDiPan,bt as getDirectionArrow,B as getFuShou,v as getHeTu,d as getKongWangDirection,$ as getLuoShu,et as getOriginalDoors,ot as getOriginalStars,ut as getTianQinDirection,P as getXunHead,at as getZhiFuPosition,it as getZhiFuStar,nt as getZhiShiDoor,gt as getZhiShiPosition,E as normalizeZhongPalace,q as resolveJiaHiding,X as rotateArrayFromIndex,U as rotateMapping};
